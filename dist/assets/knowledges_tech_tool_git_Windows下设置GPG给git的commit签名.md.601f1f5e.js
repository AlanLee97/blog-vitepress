import{_ as a,o as p,c as s,b as e}from"./app.d2d47940.js";const y=JSON.parse('{"title":"遇到的问题","description":"","frontmatter":{},"headers":[],"relativePath":"knowledges/tech/tool/git/Windows下设置GPG给git的commit签名.md","lastUpdated":1678620975000}'),n={name:"knowledges/tech/tool/git/Windows下设置GPG给git的commit签名.md"},t=e(`<p>1.查看是否安装gpg windows下安装git时已经默认安装了gpg</p><ol start="2"><li>查看gpg版本</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gpg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--version</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>生成key</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gpg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--full-generate-key</span></span>
<span class="line"></span></code></pre></div><p>接下来根据提示输入 <img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640756732422-53b9c323-2fd0-442f-886c-cb580d504cbd.png#clientId=u14dda4f9-5449-4&amp;from=paste&amp;height=601&amp;id=u5d865f8d&amp;name=image.png&amp;originHeight=601&amp;originWidth=793&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=77170&amp;status=done&amp;style=none&amp;taskId=u1077eb4c-1bba-4909-89b3-30088bf4d8a&amp;title=&amp;width=793" alt="image.png"> 回车后设置密码 <img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640788678147-d63a7026-e8f5-45c0-9545-6ed0fbb62a7f.png#clientId=u00a6526d-4a6c-4&amp;from=paste&amp;height=277&amp;id=u4eb7863a&amp;name=image.png&amp;originHeight=277&amp;originWidth=462&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12396&amp;status=done&amp;style=none&amp;taskId=u26996c8e-1bd3-4aca-8bae-b039621d295&amp;title=&amp;width=462" alt="image.png"> 出现下面的提示表示生成完成 <img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640756805258-f24208d6-0718-45d5-b99e-f47fac23519c.png#clientId=u14dda4f9-5449-4&amp;from=paste&amp;height=303&amp;id=u861f33b1&amp;name=image.png&amp;originHeight=303&amp;originWidth=958&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=35674&amp;status=done&amp;style=none&amp;taskId=u7239e4bc-ebd4-43f9-9c15-d38233fb497&amp;title=&amp;width=958" alt="image.png"></p><ol start="4"><li>查看密钥</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gpg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--list-secret-keys</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--keyid-format=long</span></span>
<span class="line"></span></code></pre></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640756987352-9ff8a57b-3dfd-4968-82fd-903b89169073.png#clientId=u14dda4f9-5449-4&amp;from=paste&amp;height=190&amp;id=uc81f103a&amp;name=image.png&amp;originHeight=190&amp;originWidth=714&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=24829&amp;status=done&amp;style=none&amp;taskId=ueb854d1d-f1d7-4bd2-b80c-03c8b66ac50&amp;title=&amp;width=714" alt="image.png"></p><ol start="5"><li>查看并复制密钥</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gpg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--armor</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--export</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">上一步复制的密钥ID</span></span>
<span class="line"></span></code></pre></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640757121635-e5f15150-4d5e-44e4-84de-53926a435d65.png#clientId=u14dda4f9-5449-4&amp;from=paste&amp;height=586&amp;id=u4ca06c7a&amp;name=image.png&amp;originHeight=586&amp;originWidth=689&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=116519&amp;status=done&amp;style=none&amp;taskId=u41ec9038-c9bb-43de-9f3e-c1efff7faa4&amp;title=&amp;width=689" alt="image.png"> 复制 GPG 密钥，从 -----BEGIN PGP PUBLIC KEY BLOCK----- 开始，到 -----END PGP PUBLIC KEY BLOCK----- 结束。</p><ol start="6"><li>在github中增加gpg key</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640757423499-76ce4303-279f-4910-aeb5-fce6b4ec6009.png#clientId=u14dda4f9-5449-4&amp;from=paste&amp;height=865&amp;id=u73376b5c&amp;name=image.png&amp;originHeight=865&amp;originWidth=1248&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=102904&amp;status=done&amp;style=none&amp;taskId=u7813e4c3-2013-4506-b7d0-dcd27b52a70&amp;title=&amp;width=1248" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640757500949-d4362eed-c29d-4776-ab10-a43ea96002bd.png#clientId=u14dda4f9-5449-4&amp;from=paste&amp;height=408&amp;id=ude5734f2&amp;name=image.png&amp;originHeight=408&amp;originWidth=866&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=44214&amp;status=done&amp;style=none&amp;taskId=u5e76f4a8-da5e-41da-b633-f2d258c994b&amp;title=&amp;width=866" alt="image.png"></p><ol start="7"><li>查找gpg签名id</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gpg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--list-secret-keys</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--keyid-format=long</span></span>
<span class="line"></span></code></pre></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640757800715-49262d67-6c97-4793-9fb7-ca2f8cca00e5.png#clientId=u14dda4f9-5449-4&amp;from=paste&amp;height=181&amp;id=u1d87b588&amp;name=image.png&amp;originHeight=181&amp;originWidth=641&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=20618&amp;status=done&amp;style=none&amp;taskId=u5c2cb577-0df2-4c0f-ae9d-f5520216fac&amp;title=&amp;width=641" alt="image.png"></p><ol start="8"><li>在本地git中设置gpg签名</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--global</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">user.signingkey</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">刚刚复制的id</span></span>
<span class="line"></span></code></pre></div><ol start="9"><li>设置提交时使用签名</li></ol><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 在当前项目中使用</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit.gpgsign</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 全局使用</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># git config commit.gpgsign true --global</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h1 id="遇到的问题" tabindex="-1">遇到的问题 <a class="header-anchor" href="#遇到的问题" aria-hidden="true">#</a></h1><p>【问题】 <img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640910798931-ab4669d5-5d10-460e-bb34-75a9d205c4b8.png#clientId=u32bde515-09bd-4&amp;from=paste&amp;height=76&amp;id=u572ace0e&amp;name=image.png&amp;originHeight=76&amp;originWidth=480&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=3553&amp;status=done&amp;style=none&amp;taskId=u34bdec4a-047e-4335-92d6-fccaa4414aa&amp;title=&amp;width=480" alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640910778337-8b846c56-cfe1-49d8-9a1b-c9eb09666af7.png#clientId=u32bde515-09bd-4&amp;from=paste&amp;height=144&amp;id=u7b89314b&amp;name=image.png&amp;originHeight=144&amp;originWidth=970&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=14002&amp;status=done&amp;style=none&amp;taskId=u6700ed35-2e50-4849-a562-1e9dcb20dac&amp;title=&amp;width=970" alt="image.png"> 【解决方案】 安装gpg即可，下载链接<a href="https://gpg4win.org/get-gpg4win.html" target="_blank" rel="noreferrer">https://gpg4win.org/get-gpg4win.html</a> 下载完成安装之后 配置环境变量 <img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640911680866-98675786-6aca-4837-858a-9d16468e3211.png#clientId=u59e79132-66f3-4&amp;from=paste&amp;height=687&amp;id=ud5a2ee83&amp;name=image.png&amp;originHeight=687&amp;originWidth=1176&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=91766&amp;status=done&amp;style=none&amp;taskId=u7c0af2bf-8171-4e3e-9de4-a12ba8d2cfc&amp;title=&amp;width=1176" alt="image.png"> 重启电脑 再次打开命令行，输入</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">gpg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--version</span></span>
<span class="line"></span></code></pre></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640911738417-43af9a6a-0de1-46f1-b2e2-26dfc596f53a.png#clientId=u59e79132-66f3-4&amp;from=paste&amp;height=338&amp;id=u7bbcebc2&amp;name=image.png&amp;originHeight=338&amp;originWidth=796&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=29997&amp;status=done&amp;style=none&amp;taskId=u4cab0a75-c4e2-400d-92b4-717c5e474a7&amp;title=&amp;width=796" alt="image.png"></p><p>【问题】 已经配置了gpg，提交的时候显示No secret key <img src="https://cdn.nlark.com/yuque/0/2021/png/743297/1640913553655-6775f547-df58-4982-bc5d-0ea1d304b829.png#clientId=u9bfca341-6ab1-4&amp;from=paste&amp;height=130&amp;id=ud7b24c91&amp;name=image.png&amp;originHeight=130&amp;originWidth=617&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=11539&amp;status=done&amp;style=none&amp;taskId=u28cae319-dd49-4a53-81d9-287da5d8d0b&amp;title=&amp;width=617" alt="image.png"></p><p>【解决】</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--global</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gpg.program</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">C:\\Program Files (x86)\\GnuPG\\bin\\gpg.exe</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"></span></code></pre></div><p>git设置一下gpg.program，值为gpg的安装目录</p>`,29),i=[t];function l(o,m,c,g,r,d){return p(),s("div",null,i)}const b=a(n,[["render",l]]);export{y as __pageData,b as default};
