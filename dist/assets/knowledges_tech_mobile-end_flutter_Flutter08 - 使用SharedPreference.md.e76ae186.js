import{_ as s,o as a,c as e,b as n}from"./app.d2d47940.js";const F=JSON.parse('{"title":"使用SharedPreference","description":"","frontmatter":{},"headers":[{"level":2,"title":"添加依赖","slug":"添加依赖","link":"#添加依赖","children":[]},{"level":2,"title":"使用","slug":"使用","link":"#使用","children":[]}],"relativePath":"knowledges/tech/mobile-end/flutter/Flutter08 - 使用SharedPreference.md","lastUpdated":1678618356000}'),l={name:"knowledges/tech/mobile-end/flutter/Flutter08 - 使用SharedPreference.md"},p=n(`<h1 id="使用sharedpreference" tabindex="-1">使用SharedPreference <a class="header-anchor" href="#使用sharedpreference" aria-hidden="true">#</a></h1><h2 id="添加依赖" tabindex="-1">添加依赖 <a class="header-anchor" href="#添加依赖" aria-hidden="true">#</a></h2><div class="language-yml"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F07178;">dependencies</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">shared_preferences</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">^0.5.7</span></span>
<span class="line"></span></code></pre></div><h2 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-hidden="true">#</a></h2><p>保存数据到SharedPreferences</p><div class="language-dart"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">saveLoginInfo</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> userInfo) </span><span style="color:#89DDFF;font-style:italic;">async</span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">SharedPreferences</span><span style="color:#A6ACCD;"> sp </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SharedPreferences</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getInstance</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    sp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setBool</span><span style="color:#A6ACCD;">(</span><span style="color:#C3E88D;">&quot;isLogin&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    sp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setString</span><span style="color:#A6ACCD;">(</span><span style="color:#C3E88D;">&quot;userInfo&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> userInfo)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre></div><p>从SharedPreferences取出数据</p><div class="language-dart"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">//从SharedPreferences取出数据</span></span>
<span class="line"><span style="color:#FFCB6B;">Future</span><span style="color:#A6ACCD;">&lt;</span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;">&gt; </span><span style="color:#82AAFF;">getDataFromSharedPreferences</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> key) </span><span style="color:#89DDFF;font-style:italic;">async</span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">SharedPreferences</span><span style="color:#A6ACCD;"> sp </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SharedPreferences</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getInstance</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> sp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getString</span><span style="color:#A6ACCD;">(key)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre></div><p><img src="https://gitee.com/AlanLee97/public-asset/raw/master/note_images/img.png#alt=img" alt=""></p>`,9),o=[p];function t(r,c,i,y,C,A){return a(),e("div",null,o)}const d=s(l,[["render",t]]);export{F as __pageData,d as default};
